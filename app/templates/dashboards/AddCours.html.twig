{% extends 'base.html.twig' %}

{% block title %}Ajouter un etudiant dans la classe{% endblock %}

{% block body %}
{% set organismes = [
    {'id': 1, 'nom': 'Organisme A'},
    {'id': 2, 'nom': 'Organisme B'},
    {'id': 3, 'nom': 'Organisme C'}
] %}


  <div class="min-h-screen flex flex-col">
    <div class="flex-1 flex flex-row ">
        
        {% include '/dashboards/navbar.html.twig' %}

        <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-200 max-h-[100vh]">
            <div class="container mx-auto  ">
                
                <div class="bg-white shadow   p-4 sm:p-6 xl:p-8 ">
                <div class="font-bold text-black tracking-wide text-xl mb-16">Tableau de bord</div>

                <div class="container mx-auto px-4 py-6">
                <h1 class="text-2xl font-bold mb-6">Créer un cours</h1>
                <div class="flex flex-col max-w-md  space-y-4">

                <form method="post" action="" enctype="multipart/form-data">
                    <div class="mb-4">
                        <div class="flex items-center mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="status" value="published">
                                <span class="ml-2">Publié</span>
                            </label>
                            <label class="inline-flex items-center ml-6">
                                <input type="radio" class="form-radio" name="status" value="private">
                                <span class="ml-2">Privé</span>
                            </label>
                        </div>
                        
                        <div class="mb-4">
                            <label for="titre" class="block text-sm font-medium text-gray-700">Titre du cours</label>
                            {{ form_row(form.titre, {'label': false, 'attr': {'class': 'mt-1 block w-full border-gray-300 shadow-sm rounded-md'}}) }}
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700">Image du cours</label>
                            <div class="flex justify-start items-center">
                                <div class="mr-2">
                                    <input type="file" id="image_cours" name="image_cours" class="hidden">
                                    <label for="image_cours" class="cursor-pointer bg-white rounded border border-gray-300 px-3 py-2 text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50">Uploader</label>
                                </div>
                                <img id="preview_image" src="#" alt="Aperçu de l'image du cours" class="h-12 w-auto" style="display: none;">
                            </div>
                        </div>
                            <div class="mb-6">
                                <label for="id_classe" class="block text-sm font-medium text-gray-700">Classe(s) liée(s) CHOIX MULTIPLE !</label>
                                <select id="id_classe" name="id_classe[]" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                    <option value=""></option>
                                    {% for organisme in organismes %}
                                        <option value="{{ organisme.id }}">{{ organisme.nom }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        
                        
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700">Associer des élèves manuellement</label>
                                {% if students is defined and students|length > 0 %}
                                    <select name="students[]" id="students" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                        {% for student in students %}
                                            <option value="{{ student.id }}">{{ student.name }}</option>
                                        {% endfor %}
                                    </select>
                                {% else %}
                                    <select name="students[]" id="students" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                        {% set defaultStudents = [
                                            {'id': 1, 'name': 'Étudiant A'},
                                            {'id': 2, 'name': 'Étudiant B'},
                                            {'id': 3, 'name': 'Étudiant C'}
                                        ] %}
                                        {% for student in defaultStudents %}
                                            <option value="{{ student.id }}">{{ student.name }}</option>
                                        {% endfor %}
                                    </select>
                                {% endif %}


                            </div>




                            <div class="mb-4">
                                <label for="description" class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                                {{ form_widget(form.description, {'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'}}) }}
                            </div>

                            <div class="mb-4">
                                <label for="duree" class="block text-gray-700 text-sm font-bold mb-2">Durée (en heures)</label>
                                {{ form_row(form.duree, {'label': false, 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline', 'type': 'number', 'placeholder': '0'}}) }}
                            </div>


                            <div class="mb-4">
                                <label for="difficulte" class="block text-gray-700 text-sm font-bold mb-2">Difficulté</label>
                                {{ form_row(form.difficulte, {'label': false, 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline', 'type': 'number', 'min': '1', 'max': '5', 'placeholder': '1'}}) }}
                            </div>


                            <div class="mb-4">
                                <label for="objectif" class="block text-gray-700 text-sm font-bold mb-2">Objectif</label>
                                {{ form_row(form.objectif, {'label': false, 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'rows': '4', 'placeholder': 'Objectif du cours...'}}) }}
                            </div>


                            <div class="mb-4">
                            <label for="categorie" class="block text-gray-700 text-sm font-bold mb-2">Catégorie</label>
                                <div class="inline-block relative w-full">
                                    {{ form_row(form.categorie, {'label': false, 'attr': {'class': 'block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline'}}) }}
                                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                            <path d="M5.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.576 0 0.436 0.445 0.408 1.197 0 1.615l-4.695 4.502c-0.217 0.223-0.502 0.335-0.789 0.335s-0.571-0.112-0.789-0.335l-4.695-4.502c-0.408-0.418-0.436-1.17 0-1.615z"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        
                        <div class="flex justify-between">
                            <button type="submit" class="inline-flex items-center px-4 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded-md">Enregistrer</button>
                    </div>
                </form>
                </div>
            </div>
            </div>
        </main>
        
    </div>
</div>

{% endblock %}