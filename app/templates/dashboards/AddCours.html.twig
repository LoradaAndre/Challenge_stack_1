{% extends 'base.html.twig' %}

{% block title %}Ajouter un etudiant dans la classe{% endblock %}

{% block body %}
{% set organismes = [
    {'id': 1, 'nom': 'Organisme A'},
    {'id': 2, 'nom': 'Organisme B'},
    {'id': 3, 'nom': 'Organisme C'}
] %}


  <div class="min-h-screen flex flex-col">
    <div class="flex-1 flex flex-row ">
        
        {% include '/dashboards/navbar.html.twig' %}

        <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-200">
            <div class="container mx-auto  h-full">
                
                <div class="bg-white shadow  h-full p-4 sm:p-6 xl:p-8 ">
                <div class="font-bold text-black tracking-wide text-xl mb-16">Tableau de bord</div>

                <div class="container mx-auto px-4 py-6">
                <h1 class="text-2xl font-bold mb-6">Créer un cours</h1>
                <div class="flex flex-col max-w-md  space-y-4">

                <form method="post" action="" enctype="multipart/form-data">
                    <div class="mb-4">
                        <div class="flex items-center mb-4">
                            <label class="inline-flex items-center">
                                <input type="radio" class="form-radio" name="status" value="published">
                                <span class="ml-2">Publié</span>
                            </label>
                            <label class="inline-flex items-center ml-6">
                                <input type="radio" class="form-radio" name="status" value="private">
                                <span class="ml-2">Privé</span>
                            </label>
                        </div>
                        
                        <div class="mb-4">
                            <label for="titre_cours" class="block text-sm font-medium text-gray-700">Titre du cours</label>
                            <input type="text" id="titre_cours" name="titre_cours" class="mt-1 block w-full border-gray-300 shadow-sm rounded-md" placeholder="Placeholder" required>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700">Image du cours</label>
                            <div class="flex justify-start items-center">
                                <div class="mr-2">
                                    <input type="file" id="image_cours" name="image_cours" class="hidden">
                                    <label for="image_cours" class="cursor-pointer bg-white rounded border border-gray-300 px-3 py-2 text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50">Uploader</label>
                                </div>
                                <img id="preview_image" src="#" alt="Aperçu de l'image du cours" class="h-12 w-auto" style="display: none;">
                            </div>
                        </div>
                            <div class="mb-6">
                                <label for="classe_id" class="block text-sm font-medium text-gray-700">Classe(s) liée(s) CHOIX MULTIPLE !</label>
                                <select id="classe_id" name="classe_id[]" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                    <option value=""></option>
                                    {% for organisme in organismes %}
                                        <option value="{{ organisme.id }}">{{ organisme.nom }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        
                        
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700">Associer des élèves manuellement</label>
                                {% if students is defined and students|length > 0 %}
                                    <select name="students[]" id="students" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                        {% for student in students %}
                                            <option value="{{ student.id }}">{{ student.name }}</option>
                                        {% endfor %}
                                    </select>
                                {% else %}
                                    <select name="students[]" id="students" class="block w-full mt-1 border-2 border-gray-300 shadow-sm rounded-md" multiple>
                                        {% set defaultStudents = [
                                            {'id': 1, 'name': 'Étudiant A'},
                                            {'id': 2, 'name': 'Étudiant B'},
                                            {'id': 3, 'name': 'Étudiant C'}
                                        ] %}
                                        {% for student in defaultStudents %}
                                            <option value="{{ student.id }}">{{ student.name }}</option>
                                        {% endfor %}
                                    </select>
                                {% endif %}


                            </div>
                        
                        
                        <div class="flex justify-between">
                            <button type="submit" class="inline-flex items-center px-4 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded-md">Enregistrer le titre du cours</button>
                            <button type="button" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-700 text-white font-bold rounded-md">Supprimer</button>
                        </div>
                    </div>
                </form>
                </div>
            </div>
            </div>
        </main>
        
    </div>
</div>

{% endblock %}